<!DOCTYPE html><html lang="zh"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><title>Linux 环境搭建饥荒服务器教程</title><meta name="description" content="概括流程安装软件运行环境；安装 Steam 客户端；在客户端中安装饥荒服务端；配置饥荒服务端属性；启动游戏。 一、解决环境依赖安装必要的库文件Ubuntu 系统需要的依赖：1sudo apt-get install libstdc++6:i386 libgcc1:i386 libcurl4-gnutls-dev:i386 lib32gcc1CentOS 系统需要的依赖：1yum -y insta"><meta name="keywords" content="饥荒,Linux"><meta property="og:type" content="article"><meta property="og:title" content="Linux 环境搭建饥荒服务器教程"><meta property="og:url" content="https://inkss.cn/article/info/77face98.html"><meta property="og:site_name" content="猫的巧克力会发光"><meta property="og:description" content="概括流程安装软件运行环境；安装 Steam 客户端；在客户端中安装饥荒服务端；配置饥荒服务端属性；启动游戏。 一、解决环境依赖安装必要的库文件Ubuntu 系统需要的依赖：1sudo apt-get install libstdc++6:i386 libgcc1:i386 libcurl4-gnutls-dev:i386 lib32gcc1CentOS 系统需要的依赖：1yum -y insta"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://img.inkss.cn/inkss_cn/img/2018/06/szyink-20190407190643-1182x776.png"><meta property="og:updated_time" content="2019-09-30T06:37:57.537Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux 环境搭建饥荒服务器教程"><meta name="twitter:description" content="概括流程安装软件运行环境；安装 Steam 客户端；在客户端中安装饥荒服务端；配置饥荒服务端属性；启动游戏。 一、解决环境依赖安装必要的库文件Ubuntu 系统需要的依赖：1sudo apt-get install libstdc++6:i386 libgcc1:i386 libcurl4-gnutls-dev:i386 lib32gcc1CentOS 系统需要的依赖：1yum -y insta"><meta name="twitter:image" content="https://img.inkss.cn/inkss_cn/img/2018/06/szyink-20190407190643-1182x776.png"><link rel="canonical" href="https://inkss.cn/article/info/77face98.html"><link rel="alternate" href="/atom.xml" title="猫的巧克力会发光" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.1/dist/jquery.fancybox.min.css" rel="stylesheet"></head><body class="main-center" itemscope itemtype="https://schema.org/WebPage"><header class="header" id="LeftHeader" itemscope itemtype="https://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/inkss" target="_blank"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">Inkss</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">a little.</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Dalian, China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="https://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-repository"><a href="/repository/"><i class="icon icon-project"></i> <span class="menu-title">项目</span></a></li><li class="menu-item menu-item-links"><a href="/links/"><i class="icon icon-friendship"></i> <span class="menu-title">留言</span></a></li><li class="menu-item menu-item-about"><a href="/about/"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://szyink.com" target="_blank" title="Qq" data-toggle="tooltip" data-placement="top"><i class="icon icon-qq"></i></a></li><li><a href="https://github.com/inkss" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://www.zhihu.com/people/szhiy/activities" target="_blank" title="Zhihu" data-toggle="tooltip" data-placement="top"><i class="icon icon-zhihu"></i></a></li><li><a href="https://twitter.com/inks666" target="_blank" title="Twitter" data-toggle="tooltip" data-placement="top"><i class="icon icon-twitter"></i></a></li><li><a href="mailto:szhiy1996@gmail.com" target="_blank" title="Email" data-toggle="tooltip" data-placement="top"><i class="icon icon-email"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" id="RightSidebar" itemscope itemtype="https://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content">松下问童子，言师采药去。只在此山中，云深不知处。</div></div></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/Cloud-Studio/" style="font-size:13px">Cloud Studio</a> <a href="/tags/Git/" style="font-size:13.75px">Git</a> <a href="/tags/Hexo/" style="font-size:13.5px">Hexo</a> <a href="/tags/Java/" style="font-size:13.25px">Java</a> <a href="/tags/Linux/" style="font-size:14px">Linux</a> <a href="/tags/Office/" style="font-size:13px">Office</a> <a href="/tags/Shadowsocks/" style="font-size:13px">Shadowsocks</a> <a href="/tags/SpringBoot/" style="font-size:13px">SpringBoot</a> <a href="/tags/Steam/" style="font-size:13px">Steam</a> <a href="/tags/Ubuntu-18-04/" style="font-size:13px">Ubuntu 18.04</a> <a href="/tags/Valine/" style="font-size:13px">Valine</a> <a href="/tags/emoji/" style="font-size:13px">emoji</a> <a href="/tags/excel/" style="font-size:13.25px">excel</a> <a href="/tags/划水/" style="font-size:13px">划水</a> <a href="/tags/导出/" style="font-size:13.25px">导出</a> <a href="/tags/显卡驱动/" style="font-size:13px">显卡驱动</a> <a href="/tags/破解/" style="font-size:13px">破解</a> <a href="/tags/网卡驱动/" style="font-size:13px">网卡驱动</a> <a href="/tags/网站/" style="font-size:13.5px">网站</a> <a href="/tags/联想Y7000P/" style="font-size:13px">联想Y7000P</a> <a href="/tags/评论/" style="font-size:13px">评论</a> <a href="/tags/软件/" style="font-size:13px">软件</a> <a href="/tags/饥荒/" style="font-size:13px">饥荒</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">2</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/java/">java</a></p><p class="item-title"><a href="/article/java/319f3669.html" class="title">SpringBoot 笔记</a></p><p class="item-date"><time datetime="2019-09-29T16:00:00.000Z" itemprop="datePublished">2019-09-30</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/java/">java</a></p><p class="item-title"><a href="/article/java/4cc75370.html" class="title">Java 报表模板 Excel 导出（二）</a></p><p class="item-date"><time datetime="2019-09-29T16:00:00.000Z" itemprop="datePublished">2019-09-30</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/other/">other</a></p><p class="item-title"><a href="/article/other/bdce2ea4.html" class="title">个人用软件列表清单</a></p><p class="item-date"><time datetime="2019-09-26T16:00:00.000Z" itemprop="datePublished">2019-09-27</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/java/">java</a></p><p class="item-title"><a href="/article/java/958bc658.html" class="title">Java 报表模板 Excel 导出（一）</a></p><p class="item-date"><time datetime="2019-09-24T16:00:00.000Z" itemprop="datePublished">2019-09-25</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/info/">info</a></p><p class="item-title"><a href="/article/info/faca9026.html" class="title">Hexo 博客部署 Valine 评论通知功能</a></p><p class="item-date"><time datetime="2019-09-04T16:00:00.000Z" itemprop="datePublished">2019-09-05</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="https://schema.org/WPSideBar"><div class="slimContent"><nav id="toc" class="article-toc"><h3 class="toc-title">文章目录</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#概括流程"><span class="toc-text">概括流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#一-解决环境依赖"><span class="toc-text">一、解决环境依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二-安装-steamcmd"><span class="toc-text">二、安装 SteamCMD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三-安装饥荒服务端"><span class="toc-text">三、安装饥荒服务端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四-配置饥荒服务端-一"><span class="toc-text">四、配置饥荒服务端 （一）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五-配置饥荒服务端-二"><span class="toc-text">五、配置饥荒服务端 （二）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六-启动游戏"><span class="toc-text">六、启动游戏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七-附录"><span class="toc-text">七、附录</span></a></li></ol></nav></div></aside><main class="main" role="main"><div class="content fixcontent"><article id="post-18-06/UbuntuServer搭建饥荒服务端实验手册" class="article article-type-post" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-header" style="text-align:center"><h1 class="article-title" itemprop="name">Linux 环境搭建饥荒服务器教程</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/article/info/77face98.html" class="article-date"><time datetime="2018-06-03T16:00:00.000Z" itemprop="datePublished">2018-06-04</time></a></span> <span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/info/">info</a></span> <span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link" href="/tags/Linux/">Linux</a>, <a class="article-tag-link" href="/tags/饥荒/">饥荒</a></span> <span class="post-comment"><i class="icon icon-comment"></i> <a href="/article/info/77face98.html#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 2.3k(字)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 9(分)</span></div></div><div class="article-entry marked-body" id="fixp" itemprop="articleBody"><h2 id="概括流程"><a class="markdownIt-Anchor" href="#概括流程"></a> 概括流程</h2><ul><li>安装软件运行环境；</li><li>安装 Steam 客户端；</li><li>在客户端中安装饥荒服务端；</li><li>配置饥荒服务端属性；</li><li>启动游戏。</li></ul><hr><h2 id="一-解决环境依赖"><a class="markdownIt-Anchor" href="#一-解决环境依赖"></a> 一、解决环境依赖</h2><ul><li><strong>安装必要的库文件</strong></li></ul><p>Ubuntu 系统需要的依赖：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libstdc++6:i386 libgcc1:i386 libcurl4-gnutls-dev:i386 lib32gcc1</span><br></pre></td></tr></table></figure><p>CentOS 系统需要的依赖：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install glibc.i686 libstdc++.i686 libcurl4-gnutls-dev.i686 libcurl.i686</span><br></pre></td></tr></table></figure><h2 id="二-安装-steamcmd"><a class="markdownIt-Anchor" href="#二-安装-steamcmd"></a> 二、安装 SteamCMD</h2><ul><li><strong>新建目录 steamcmd</strong></li></ul><p>此目录用于 steam 程序的安装目录。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/steamcmd</span><br></pre></td></tr></table></figure><ul><li><strong>下载 SteamCMD 安装文件</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -P ~/steamcmd https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz</span><br></pre></td></tr></table></figure><ul><li><strong>解压压缩包</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/steamcmd</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf ~/steamcmd/steamcmd_linux.tar.gz</span><br></pre></td></tr></table></figure><h2 id="三-安装饥荒服务端"><a class="markdownIt-Anchor" href="#三-安装饥荒服务端"></a> 三、安装饥荒服务端</h2><ul><li><strong>启动 steamcmd</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./steamcmd.sh</span><br></pre></td></tr></table></figure><p>请耐心等待客户端安装，直到进入了: <code>Steam&gt;</code> 命令行模式。</p><p>如有遇到<strong>安装进度</strong>不走，请使用 <code>ctrl + c</code> 强制退出后重试。</p><ul><li><strong>使用公共账户登录 Steam</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login anonymous</span><br></pre></td></tr></table></figure><ul><li><strong>指定游戏文件的安装目录</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">force_install_dir ../dontstarvetogether_dedicated_server</span><br></pre></td></tr></table></figure><ul><li><strong>安装饥荒服务端</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app_update 343050 validate</span><br></pre></td></tr></table></figure><p>此过程所需时间视网络情况而定，请耐心等待下载。</p><p>安装完成后，使用以下命令退出 Steam 客户端。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quit</span><br></pre></td></tr></table></figure><p><strong>（1）成功安装所出现的标志：</strong></p><p><code>Success! App '343050' fully installed.</code></p><p><strong>（2）如果在安装过程中出现了:</strong></p><p><code>Error! App '232250' XXXXX...</code></p><p>出现此类情况的原因是：Steam 存在网络连接问题。</p><p>解决方案则是先执行 <code>quit</code> 退出 Steam 程序，再重复步奏 <em>3.安装饥荒服务端</em> 的所述内容。</p><ul><li><strong>解决一个组件缺失</strong></li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/dontstarvetogether_dedicated_server/bin/lib32</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/lib/libcurl.so.4 libcurl-gnutls.so.4</span><br></pre></td></tr></table></figure><h2 id="四-配置饥荒服务端-一"><a class="markdownIt-Anchor" href="#四-配置饥荒服务端-一"></a> 四、配置饥荒服务端 （一）</h2><p>===================================</p><p><strong>【本节内容为使用手写的方式获取配置文件】</strong></p><p>===================================</p><ul><li><strong>获取 cluster_token 和 UserID</strong></li></ul><p>1.UserID</p><p>打开饥荒联机版的客户端，进入游戏，点击位于右下角的 <strong>账号</strong> 按钮，进入浏览器，记录用户 ID 值。</p><p>2.cluster_token</p><p>在上一步的网页中，点击导航栏的 <strong>游戏</strong> ，再点击 DST 的 <strong>服务器</strong>，进入页面后添加新服务器并记录内容。</p><p><img src="https://img.inkss.cn/inkss_cn/img/2018/06/szyink-20190407190643-1182x776.png" alt></p><ul><li><strong>新建饥荒配置文件目录</strong></li></ul><p>饥荒的配置目录位于: <code>~/.klei/DoNotStarveTogether</code></p><p>该目录下存放的是游戏存档，我们手动创建一个存档目录：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.klei/DoNotStarveTogether/MyDediServer</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.klei/DoNotStarveTogether/MyDediServer</span><br></pre></td></tr></table></figure><ul><li><strong>配置主配置文件</strong></li></ul><p>新建 cluster.ini 文件，该文件定义了服务端的主要属性：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch cluster.ini</span><br></pre></td></tr></table></figure><p>在该文件中主要属性解释如下：</p><table><thead><tr><th>字段</th><th>释义</th></tr></thead><tbody><tr><td>max_players</td><td>最大在线人数</td></tr><tr><td>game_mode</td><td>游戏模式，可选：survival，endless，wilderness</td></tr><tr><td>pause_when_empty</td><td>服务器内无玩家时暂停</td></tr><tr><td>vote_kick_enabled</td><td>玩家投票踢人</td></tr><tr><td>max_snapshots</td><td>最大存档回滚次数</td></tr></tbody></table><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[GAMEPLAY]</span></span><br><span class="line"><span class="attr">max_players</span> = <span class="number">6</span></span><br><span class="line"><span class="attr">pvp</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">game_mode</span> = endless</span><br><span class="line"><span class="attr">pause_when_empty</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">vote_kick_enabled</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[NETWORK]</span></span><br><span class="line"><span class="attr">cluster_description</span> = 服务器描述</span><br><span class="line"><span class="attr">cluster_name</span> = 服务器名称</span><br><span class="line"><span class="attr">cluster_password</span> = 服务器密码</span><br><span class="line"><span class="attr">cluster_intention</span> = cooperative</span><br><span class="line"></span><br><span class="line"><span class="section">[MISC]</span></span><br><span class="line"><span class="attr">max_snapshots</span> = <span class="number">6</span></span><br><span class="line"><span class="attr">console_enabled</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[SHARD]</span></span><br><span class="line"><span class="attr">shard_enabled</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">bind_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">master_ip</span> = <span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line"><span class="attr">master_port</span> = <span class="number">10889</span></span><br><span class="line"><span class="attr">cluster_key</span> = supersecretkey</span><br></pre></td></tr></table></figure><ul><li><strong>配置令牌和服务器管理员</strong></li></ul><p>配置令牌：</p><p><strong>先新建</strong> cluster_token.txt 文件，<strong>再</strong>将此前获取到的 Token 复制到文件中。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch cluster_token.txt</span><br></pre></td></tr></table></figure><p><strong>先新建</strong> adminlist.txt 文件，<strong>再</strong>将此前获取到的 UserID 复制到文件中。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch adminlist.txt</span><br></pre></td></tr></table></figure><ul><li><strong>配置地上部分</strong></li></ul><p>请在 MyDediServer 目下新建 Master 目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir Master</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Master</span><br></pre></td></tr></table></figure><p>配置独立配置文件，新建 server.ini 文件。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch server.ini</span><br></pre></td></tr></table></figure><p>文件内容如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[NETWORK]</span></span><br><span class="line"><span class="attr">server_port</span> = <span class="number">11000</span></span><br><span class="line"></span><br><span class="line"><span class="section">[SHARD]</span></span><br><span class="line"><span class="attr">is_master</span> = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="section">[STEAM]</span></span><br><span class="line"><span class="attr">master_server_port</span> = <span class="number">27018</span></span><br><span class="line"><span class="attr">authentication_port</span> = <span class="number">8768</span></span><br><span class="line"></span><br><span class="line"><span class="section">[ACCOUNT]</span></span><br><span class="line"><span class="attr">encode_user_path</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>配置地图文件，新建 worldgenoverride.lua 文件。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch worldgenoverride.lua</span><br></pre></td></tr></table></figure><p>文件内容如下：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">    override_enabled = <span class="literal">true</span>,</span><br><span class="line">    preset = <span class="string">"SURVIVAL_TOGETHER"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>配置地下部分</strong></li></ul><p>地下部分与地上部分极其相似，但是两个实例互相独立。</p><p>请在 MyDediServer 目下新建 Caves 目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir Caves</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> Caves</span><br></pre></td></tr></table></figure><p>配置独立配置文件，新建 server.ini 文件。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch server.ini</span><br></pre></td></tr></table></figure><p>文件内容如下：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[NETWORK]</span></span><br><span class="line"><span class="attr">server_port</span> = <span class="number">11001</span></span><br><span class="line"></span><br><span class="line"><span class="section">[SHARD]</span></span><br><span class="line"><span class="attr">is_master</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">name</span> = Caves</span><br><span class="line"></span><br><span class="line"><span class="section">[STEAM]</span></span><br><span class="line"><span class="attr">master_server_port</span> = <span class="number">27019</span></span><br><span class="line"><span class="attr">authentication_port</span> = <span class="number">8769</span></span><br><span class="line"></span><br><span class="line"><span class="section">[ACCOUNT]</span></span><br><span class="line"><span class="attr">encode_user_path</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>配置地图文件，新建 worldgenoverride.lua 文件。</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch worldgenoverride.lua</span><br></pre></td></tr></table></figure><p>文件内容如下：</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">    override_enabled = <span class="literal">true</span>,</span><br><span class="line">    preset = <span class="string">"DST_CAVE"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="五-配置饥荒服务端-二"><a class="markdownIt-Anchor" href="#五-配置饥荒服务端-二"></a> 五、配置饥荒服务端 （二）</h2><p>===================================</p><p><strong>【本节内容为通过客户端获取配置文件】</strong></p><p>比较推荐，客户端提供了一个图像化界面配置世界属性。</p><p>PS：有关 <strong>MOD</strong> 的配置和 <strong>双服务器</strong> 地上地下分离搭建部分也将在此部分提及。</p><p>===================================</p><ul><li><strong>利用客户端创建世界</strong></li></ul><p>进入游戏，选择 <strong>创建游戏</strong> ， <strong>联机版</strong> ，风格随意，在进一步的界面中填写相应内容（名称、描述、密码等）；</p><p>切换选项卡至 <strong>森林</strong> ，在此界面可以修改相关世界属性，同理 <strong>洞穴</strong> 选项卡配置的是地下部分的世界属性（先选择增加洞穴）；</p><p>切换到 <strong>模组</strong> 选项卡，勾选需要在服务端启动的模组（记得同时配置模组）。</p><p>大体的配置内容完成后，选择 <strong>形成世界</strong> 进入游戏，等到人物选择界面后即可退出客户端。</p><ul><li><strong>提取配置文件</strong></li></ul><p>以 Windows 为例（Linux/Mac 类似），存档位置位于 <code>/Users/username/Documents/Klei/DoNotStarveTogether</code> ，也就是文档目录下。</p><p>在该目录的下一级目录中 有一个命名为 <code>Cluster_X</code> 的文件夹（X 为数字编号），提取出刚刚创建的存档。</p><ul><li><strong>配置文件补充</strong></li></ul><p>当然这个配置文件并不完整，需要做相应的补充。缺白名单、管理员等配置文件，<strong>参考上文内容补全即可</strong>。</p><ul><li><strong>分离地上地下</strong></li></ul><p>正在看本片文章的你，想必是打算使用学生主机来搭建饥荒服务端吧。然而很遗憾的是无论是腾讯云还是阿里云，所提供的学生云主机都无法承担同时运行地上、地下两个部分。而折中的方法自然也就是将地上地下分开搭建。</p><ul><li>先修改 cluster.ini 文件的 <code>bind_ip</code> 和 <code>master_ip</code> 内容</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[SHARD]</span><br><span class="line">shard_enabled = <span class="literal">true</span></span><br><span class="line">bind_ip = 0.0.0.0 </span><br><span class="line">master_ip = 你的主服务器的 IP （地上）</span><br></pre></td></tr></table></figure><p>然后将文件夹命名为地上，再复制此文件夹，命名为地下。</p><p>最后地上删除 Caves 目录，地下删除 Master 目录。</p><ul><li><strong>Mod 模组配置</strong></li></ul><p>Mod 的配置文件已经在提取到的文件夹中了，但是位于服务器的饥荒客户端还没有下载这些文件。</p><p>进入到服务器的的饥荒安装目录：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/dontstarvetogether_dedicated_server/mods</span><br></pre></td></tr></table></figure><p>修改该目录下的 dedicated_server_mods_setup.lua 文件：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim dedicated_server_mods_setup.lua </span><br><span class="line"></span><br><span class="line"><span class="comment"># 在该文件中添加类似这样的内容，这串 ID 是 Mod 文件在 Steam 中的 ID</span></span><br><span class="line"><span class="comment"># 可以在提取到的配置文件的 Master/modoverrides.lua 中找到</span></span><br><span class="line"><span class="comment"># 然后添加到本文件中，一行一个</span></span><br><span class="line">ServerModSetup(<span class="string">"362175979"</span>)</span><br></pre></td></tr></table></figure><p><strong>文章末尾补充个人使用的 MOD 列表。</strong></p><ul><li><strong>上传配置文件到服务器</strong></li></ul><p>使用 Ftp 的软件上传配置文件到服务器，相关位置可以参考上节内容。</p><h2 id="六-启动游戏"><a class="markdownIt-Anchor" href="#六-启动游戏"></a> 六、启动游戏</h2><ul><li><strong>启动脚本</strong></li></ul><p>在家目录下新建脚本文件：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~ &amp;&amp; touch startDST.sh</span><br></pre></td></tr></table></figure><p>脚本内容如下：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">steamcmd_dir=<span class="string">"<span class="variable">$HOME</span>/steamcmd"</span></span><br><span class="line">install_dir=<span class="string">"<span class="variable">$HOME</span>/dontstarvetogether_dedicated_server"</span></span><br><span class="line">cluster_name=<span class="string">"MyDediServer"</span></span><br><span class="line">dontstarve_dir=<span class="string">"<span class="variable">$HOME</span>/.klei/DoNotStarveTogether"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> fail()</span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">echo</span> Error: <span class="string">"<span class="variable">$@</span>"</span> &gt;&amp;2</span><br><span class="line">        <span class="built_in">exit</span> 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> check_for_file()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> [ ! -e <span class="string">"<span class="variable">$1</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">            fail <span class="string">"Missing file: <span class="variable">$1</span>"</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$steamcmd_dir</span>"</span> || fail <span class="string">"Missing <span class="variable">$steamcmd_dir</span> directory!"</span></span><br><span class="line"></span><br><span class="line">check_for_file <span class="string">"steamcmd.sh"</span></span><br><span class="line">check_for_file <span class="string">"<span class="variable">$dontstarve_dir</span>/<span class="variable">$cluster_name</span>/cluster.ini"</span></span><br><span class="line">check_for_file <span class="string">"<span class="variable">$dontstarve_dir</span>/<span class="variable">$cluster_name</span>/cluster_token.txt"</span></span><br><span class="line">check_for_file <span class="string">"<span class="variable">$dontstarve_dir</span>/<span class="variable">$cluster_name</span>/Master/server.ini"</span></span><br><span class="line">check_for_file <span class="string">"<span class="variable">$dontstarve_dir</span>/<span class="variable">$cluster_name</span>/Caves/server.ini"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">check_for_file <span class="string">"<span class="variable">$install_dir</span>/bin"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="string">"<span class="variable">$install_dir</span>/bin"</span> || fail </span><br><span class="line"></span><br><span class="line">run_shared=(./dontstarve_dedicated_server_nullrenderer)</span><br><span class="line">run_shared+=(-console)</span><br><span class="line">run_shared+=(-cluster <span class="string">"<span class="variable">$cluster_name</span>"</span>)</span><br><span class="line">run_shared+=(-monitor_parent_process $$)</span><br><span class="line"></span><br><span class="line"><span class="string">"<span class="variable">$&#123;run_shared[@]&#125;</span>"</span> -shard Caves  | sed <span class="string">'s/^/Caves:  /'</span> &amp;</span><br><span class="line"><span class="string">"<span class="variable">$&#123;run_shared[@]&#125;</span>"</span> -shard Master | sed <span class="string">'s/^/Master: /'</span></span><br></pre></td></tr></table></figure><p>给启动脚本添加权限：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x ./startDST.sh</span><br></pre></td></tr></table></figure><ul><li><strong>启动游戏</strong></li></ul><p>到此所有的<strong>配置过程结束</strong>，但是为了方便饥荒在后台运行。</p><p>这里我们需要利用 <code>screen</code> 命令。</p><p>利用 screen 命令创建一个新窗口，便于后台运行：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -S DST</span><br></pre></td></tr></table></figure><p>那么，现在请启动脚本，开始游戏吧</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./startDST.sh</span><br></pre></td></tr></table></figure><ul><li><strong>退出 screen</strong></li></ul><p><code>Ctrl</code> + <code>A</code> + <code>D</code></p><h2 id="七-附录"><a class="markdownIt-Anchor" href="#七-附录"></a> 七、附录</h2><ul><li><strong>验证服务器</strong></li></ul><p>在线验证服务器运行的网站：<a href="https://dstserverlist.appspot.com/" target="_blank" rel="noopener">Don’t Starve Together Server</a></p><ul><li><strong>个人用 MOD</strong></li></ul><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">ServerModSetup(<span class="string">"362175979"</span>) <span class="comment">-- Wormhole Marks       标记相联通的虫洞</span></span><br><span class="line">ServerModSetup(<span class="string">"378160973"</span>) <span class="comment">-- Global Positions     小地图显示玩家位置 共享地图发现</span></span><br><span class="line">ServerModSetup(<span class="string">"382177939"</span>) <span class="comment">-- DST Storm Cellar     风暴酒窖 80个插槽</span></span><br><span class="line">ServerModSetup(<span class="string">"385006082"</span>) <span class="comment">-- DST Path Lights      路径灯在黄昏时开启，在黎明时关闭</span></span><br><span class="line">ServerModSetup(<span class="string">"396822875"</span>) <span class="comment">-- Spike Trap           增加两个陷阱 </span></span><br><span class="line">ServerModSetup(<span class="string">"444235588"</span>) <span class="comment">-- Deluxe Campfires     豪华营火 增加燃烧时间</span></span><br><span class="line">ServerModSetup(<span class="string">"458587300"</span>) <span class="comment">-- Fast Travel          快速旅行</span></span><br><span class="line">ServerModSetup(<span class="string">"458940297"</span>) <span class="comment">-- FFood Values         显示食物价值</span></span><br><span class="line">ServerModSetup(<span class="string">"462372013"</span>) <span class="comment">-- Always fresh         冰箱里物品永远不坏 </span></span><br><span class="line">ServerModSetup(<span class="string">"462434129"</span>) <span class="comment">-- Restart              #重生 #复活 #自杀 Y:公聊 U:私聊</span></span><br><span class="line">ServerModSetup(<span class="string">"604761020"</span>) <span class="comment">-- Multi Rocks          持久挖矿 让卵石更耐挖</span></span><br><span class="line">ServerModSetup(<span class="string">"623286817"</span>) <span class="comment">-- Free transplant      移植无需施肥</span></span><br><span class="line">ServerModSetup(<span class="string">"661253977"</span>) <span class="comment">-- Don't Drop Everything 死亡不掉落</span></span><br><span class="line">ServerModSetup(<span class="string">"663554209"</span>) <span class="comment">-- Magic Freezer        更大个的冰箱 无损</span></span><br><span class="line">ServerModSetup(<span class="string">"666155465"</span>) <span class="comment">-- Show Me              鼠标显示更多信息</span></span><br><span class="line">ServerModSetup(<span class="string">"659459255"</span>) <span class="comment">-- Mandrake Tree        生成萤火虫</span></span><br><span class="line">ServerModSetup(<span class="string">"714712361"</span>) <span class="comment">-- Starting NovicePacks 小橘子的新手礼包</span></span><br><span class="line">ServerModSetup(<span class="string">"714719224"</span>) <span class="comment">-- Starting NovicePacks 小橘子的在线礼包</span></span><br><span class="line">ServerModSetup(<span class="string">"785295023"</span>) <span class="comment">-- Super Wall DST       超级墙DST 无敌的超级墙、自动门、栅栏和栅栏门</span></span><br><span class="line">ServerModSetup(<span class="string">"786556008"</span>) <span class="comment">-- 45 Inventory Slots   45个格子</span></span><br><span class="line">ServerModSetup(<span class="string">"831523966"</span>) <span class="comment">-- 999 Stack Size       叠加物品到 999 个</span></span><br><span class="line">ServerModSetup(<span class="string">"1301033176"</span>) <span class="comment">-- Chinese Language    中文语言包 汉化了人物台词</span></span><br><span class="line">ServerModSetup(<span class="string">"1356189099"</span>) <span class="comment">-- [DST]旅行青蛙        旅行青蛙</span></span><br><span class="line">ServerModSetup(<span class="string">"1463539363"</span>) <span class="comment">-- Automatic Gardener  自动园丁</span></span><br><span class="line"></span><br><span class="line">ServerModSetup(<span class="string">"1510231311"</span>) <span class="comment">-- 人物 Ringo</span></span><br><span class="line">ServerModSetup(<span class="string">"1548459642"</span>) <span class="comment">-- 人物 Hachi</span></span><br><span class="line">ServerModSetup(<span class="string">"1592689346"</span>) <span class="comment">-- 人物 花花</span></span><br><span class="line"></span><br><span class="line">ServerModSetup(<span class="string">"1418746242"</span>) <span class="comment">-- 汉化增强 Chinese++ (含中文高清字体)</span></span><br><span class="line">ServerModSetup(<span class="string">"572538624"</span>) <span class="comment">-- Chinese Plus 中文汉化增强</span></span><br><span class="line">ServerModSetup(<span class="string">"367546858"</span>) <span class="comment">-- Chinese Language Pack 中文语言包</span></span><br></pre></td></tr></table></figure><ul><li><strong>原文地址</strong></li></ul><p><a href="https://inkss.cn/2018/06/04/ubuntu-builds-dst/">Ubuntu Server 搭建饥荒服务端</a></p><ul><li><strong>实验室地址</strong></li></ul><p><a href="https://cloud.tencent.com/developer/labs/lab/10382" target="_blank" rel="noopener">腾讯云 - 开发者实验室</a></p></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="https://inkss.cn/article/info/77face98.html" title="Linux 环境搭建饥荒服务器教程" target="_blank" rel="external">https://inkss.cn/article/info/77face98.html</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="external">CC BY-NC-SA 4.0 </a>许可协议。转载请注明出处！</li></ul></blockquote></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer fixBarBarFooter clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/article/info/b46ef429.html" title="Linux 服务器配置 ASF 云挂卡"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="toggle-toc"><a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button"><span>[&nbsp;</span><span>文章目录</span> <i class="text-collapsed icon icon-anchor"></i> <i class="text-in icon icon-close"></i> <span>]</span></a></li></ul><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav></main><footer class="footer" id="LeftFooter" itemscope itemtype="https://schema.org/WPFooter"><ul class="social-links"><li><a href="https://szyink.com" target="_blank" title="Qq" data-toggle="tooltip" data-placement="top"><i class="icon icon-qq"></i></a></li><li><a href="https://github.com/inkss" target="_blank" title="Github" data-toggle="tooltip" data-placement="top"><i class="icon icon-github"></i></a></li><li><a href="https://www.zhihu.com/people/szhiy/activities" target="_blank" title="Zhihu" data-toggle="tooltip" data-placement="top"><i class="icon icon-zhihu"></i></a></li><li><a href="https://twitter.com/inks666" target="_blank" title="Twitter" data-toggle="tooltip" data-placement="top"><i class="icon icon-twitter"></i></a></li><li><a href="mailto:szhiy1996@gmail.com" target="_blank" title="Email" data-toggle="tooltip" data-placement="top"><i class="icon icon-email"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright">&copy; 2019 Inkss 所爱隔山海 山海皆可平<div class="publishby">Powered by <a href="https://hexo.io/" target="_blank">Hexo </a>&amp; Theme by <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a> .</div></div></footer><div id="go-top"></div><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>!function(T){var N={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"};T.INSIGHT_CONFIG=N}(window)</script><script src="/js/insight.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta="nick,mail,link";meta=meta.split(",").filter(function(e){return GUEST.indexOf(e)>-1}),new Valine({el:"#vcomments",verify:!1,notify:!1,appId:"gqkw9h3C8yXm4WsJ3S5vBonP-gzGzoHsz",appKey:"2nwrlSMxijhI9x0v8JETCO9D",placeholder:"本站邮件通知功能已开启，建议输入邮箱获取回复消息~ ੧ᐛ੭",avatar:"retro",meta:meta,pageSize:"10",visitor:!1})</script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.1/dist/jquery.fancybox.min.js"></script><script>$(document).ready(function(){$("article img").not("[hidden]").not(".panel-body img").each(function(){var a=$(this),t=a.attr("alt"),e=a.parent("a");if(e.length<1){var n=this.getAttribute("src"),r=n.lastIndexOf("?");-1!=r&&(n=n.substring(0,r)),e=a.wrap('<a href="'+n+'"></a>').parent("a")}e.attr("data-fancybox","images"),t&&e.attr("data-caption",t)}),$().fancybox({selector:'[data-fancybox="images"]',hash:!1,loop:!1,protect:!0})})</script><script defer>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?64341e907532327289e9de37759e2a21";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body></html>